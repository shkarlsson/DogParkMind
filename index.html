<!DOCTYPE html>
<html>
	<head>
		<!-- Global site tag (gtag.js) - Google Analytics -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=UA-18005327-14"></script>
		<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());
		gtag('config', 'UA-18005327-14');
		</script>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
		<meta http-equiv="Pragma" content="no-cache">
		<meta http-equiv="Expires" content="0">
		
		<!-- Bootstrap CSS -->
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">		<script src="js/jquery-3.3.1.min.js"></script>
		<script src="js/Chart.bundle.js"></script>
		<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.1.2/dist/tf.min.js" integrity="sha256-EkeuP8KT4nZF3TYHp/LozYtUmQyXpJ0UZgm4VeixtyA=" crossorigin="anonymous"></script>
		<script src='https://npmcdn.com/@turf/turf/turf.min.js'></script>
		<script src='js/popper.js'></script>
		
		
		<!--<script src="js/require.js"></script>-->
		<title>Dog Park Pop Predict</title>
	</head>
	<body>
		<div class="container text-center justify-content-center mb-5">
			<div class="col-12 mt-5 mb-5" id="prediction_text">
				<div class="col-12" id="prediction_prefix">
				</div>
				<h1 class="col-12" id="prediction_number">
				</h1>
				<div class="col-12" id="prediction_suffix">
				</div>
			</div>
			<canvas class="col-md-8" id="probability_distribution">
			
			</canvas>
			<div id="form_div" class="col-md-8 offset-md-2 mt-5">Was I correct? Please help me get better by submitting the amount of dogs in the park right now.
				<form js_action="https://script.google.com/macros/s/AKfycbyHBSts9-u_ixD-ZfidpQpABO_173B9OaklBGCT/exec" id="gform">
					<div class="btn-group btn-group-toggle small" data-toggle="buttons">
						<label class="btn btn-outline-primary small">
							<input type="radio" name="NoOfDogs" value="0"><p class="small">0</p>
						</label>
						<label class="btn btn-outline-primary small">
							<input type="radio" name="NoOfDogs" value="1"><p class="small">1</p>
						</label>
						<label class="btn btn-outline-primary small">
							<input type="radio" name="NoOfDogs" value="2"><p class="small">2</p>
						</label>
						<label class="btn btn-outline-primary small">
							<input type="radio" name="NoOfDogs" value="3"><p class="small">3</p>
						</label>
						<label class="btn btn-outline-primary small">
							<input type="radio" name="NoOfDogs" value="4"><p class="small">4</p>
						</label>
						<label class="btn btn-outline-primary small">
							<input type="radio" name="NoOfDogs" value="5"><p class="small">5</p>
						</label>
						<label class="btn btn-outline-primary small">
							<input type="radio" name="NoOfDogs" value="6"><p class="small">6</p>
						</label>
						<label class="btn btn-outline-primary small">
							<input type="radio" name="NoOfDogs" value="7"><p class="small">7</p>
						</label>
						<label class="btn btn-outline-primary small">
							<input type="radio" name="NoOfDogs" value="8"><p class="small">8</p>
						</label>
						<label class="btn btn-outline-primary small">
							<input type="radio" name="NoOfDogs" value="9"><p class="small">9</p>
						</label>
						<label class="btn btn-outline-primary small">
							<input type="radio" name="NoOfDogs" value="10"><p class="small">10+</p>
						</label>
					</div>
					<div class="alert alert-warning alert-dismissible fade show mt-5" role="alert">
						You didn't say how many dogs...
						<button type="button" class="close" data-dismiss="alert" aria-label="Close">
						<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="form-group mt-5">
						<input type="text" name="Name" class="form-control" value="" placeholder="Your name (optional)">
					</div>
					<input type="hidden" value="" name="WhichPark">
					<input type="hidden" value="" name="ParkLocationLon">
					<input type="hidden" value="" name="ParkLocationLat">
					<input type="hidden" value="" name="DistanceFromPark">
					<!--<input type="hidden" value="" name="OriginalUnixTime">-->
					<button type="button" id="submit_button" class="btn btn-primary" onClick="jsSubmitForm(this.form)">Submit</button>
				</form>
			</div>
			<div id="thanks_div" class="col-md-6 offset-md-3 mt-5"></div>
			<button class="btn btn-light mt-5" type="button" data-toggle="collapse" data-target="#collapseAbout" aria-expanded="false" aria-controls="collapseAbout">
			What is this?
			</button>
			<div class="collapse mb-5" id="collapseAbout">
				<div class="card card-body">
					<p>I found it difficult to have to guess when to go to the dogpark in order to maximize the probability that our dog would have someone to play with there. This project is a machine learning service that takes user reported data on how many dogs there are in various dog parks at different times and couples that with weather, time of the day, holidays, etc. at the time. Then, through machine learning, it uses that information to figure out which circumstances is associated with which amount of dogs present in the dog park. Using the best trained model of predicting the amount of dogs present, it reports back (above) the most likely number of dogs currently in the park, given time of the day, weather, etc. and provides a probability distribution indicating how sure it is.</p>
					<p>If you have any questions or suggestions, please <a href = "mailto: sven.henrik.karlsson@gmail.com">send me an email</a>.</p>
				</div>
			</div>
			<!--<div class="col-12" id="sankeyDiagramDiv" style="height:4500px;"></div>-->
			<footer class="mt-5">Powered by <a href="https://darksky.net/poweredby/">Dark Sky</a>, <a href="https://api.dryg.net/">dryg.net</a> and <a href="https://www.tensorflow.org/">Tensor Flow</a></footer>
		</div>
		<script src='js/holidays.js'></script>
		<script src="script.js" type="text/javascript"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
	</body>
</html>